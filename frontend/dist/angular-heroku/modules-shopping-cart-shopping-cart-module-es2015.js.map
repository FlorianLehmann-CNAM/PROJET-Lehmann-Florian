{"version":3,"sources":["./src/app/modules/shopping-cart/shopping-cart/shopping-cart.component.css","./src/app/modules/shopping-cart/shopping-cart-routing.module.ts","./src/app/modules/shopping-cart/shopping-cart.module.ts","./src/app/modules/shopping-cart/shopping-cart/shopping-cart.component.html","./src/app/modules/shopping-cart/shopping-cart/shopping-cart.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,oFAAqB,qBAAqB,2BAA2B,oBAAoB,0BAA0B,uCAAuC,KAAK,6BAA6B,6BAA6B,KAAK,+CAA+C,2tBAA2tB,E;;;;;;;;;;;;;;;;;;;ACA98B;AACc;AACyB;AAEhF,MAAM,MAAM,GAAW;IACnB;QACI,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,4FAAqB;KACnC;CACJ,CAAC;IAMW,mCAAmC,SAAnC,mCAAmC;CAAE;AAArC,mCAAmC;IAJ/C,8DAAQ,CAAC;QACN,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KAC1B,CAAC;GACW,mCAAmC,CAAE;AAAF;;;;;;;;;;;;;;;;;;;;;ACfP;AACM;AACiC;AAEK;IAYxE,kBAAkB,SAAlB,kBAAkB;CAAI;AAAtB,kBAAkB;IAR9B,8DAAQ,CAAC;QACR,YAAY,EAAE,CAAC,4FAAqB,CAAC;QACrC,OAAO,EAAE;YACP,4DAAY;YACZ,iGAAmC;SACpC;KAEF,CAAC;GACW,kBAAkB,CAAI;AAAJ;;;;;;;;;;;;;AChB/B;AAAe,mIAAoE,uCAAuC,0XAA0X,yUAAyU,eAAe,0CAA0C,qBAAqB,uXAAuX,mCAAmC,KAAK,eAAe,mSAAmS,E;;;;;;;;;;;;;;;;;;;;;;;;;ACA1iD;AACd;AAES;AAKO;AAGyB;IAOhE,qBAAqB,SAArB,qBAAqB;IAGhC,YAAoB,KAAY;QAAZ,UAAK,GAAL,KAAK,CAAO;IAAG,CAAC;IAEpC,QAAQ;QACN,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,kFAAiB,CAAC,WAAW,CAAC,CAAC;IACpE,CAAC;IAED,wBAAwB,CAAC,OAAgB;QACvC,OAAO,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,QAAQ,CAAC;IAC1C,CAAC;IAED,yBAAyB;QACvB,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CACxB,0DAAG,CAAC,CAAC,KAAgB,EAAE,EAAE,CACvB,KAAK;aACF,GAAG,CAAC,CAAC,CAAU,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,KAAK,CAAC;aACzC,MAAM,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,EAAE,CAAC,GAAG,GAAG,KAAK,EAAE,CAAC,CAAC,CAC1C,CACF,CAAC;IACJ,CAAC;IAED,iBAAiB;QACf,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,oFAAiB,EAAE,CAAC,CAAC;IAC/C,CAAC;IAED,aAAa,CAAC,OAAgB;QAC5B,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,6EAAU,CAAC,OAAO,CAAC,CAAC,CAAC;IAC/C,CAAC;IAED,iBAAiB,CAAC,OAAgB,EAAE,WAAkB;QACpD,IAAI,CAAC,KAAK,CAAC,QAAQ,CACjB,IAAI,iFAAc,CAChB,OAAO,EACP,MAAM,CAAE,WAAW,CAAC,MAA2B,CAAC,KAAK,CAAC,CACvD,CACF,CAAC;IACJ,CAAC;CACF;;YAxDQ,iDAAK;;AAiBD,qBAAqB;IALjC,+DAAS,CAAC;QACT,QAAQ,EAAE,mBAAmB;QAC7B,0FAA6C;;KAE9C,CAAC;GACW,qBAAqB,CAuCjC;AAvCiC","file":"modules-shopping-cart-shopping-cart-module-es2015.js","sourcesContent":["export default \".card-footer-custom{\\r\\n    display:flex;\\r\\n    flex-direction:row;\\r\\n    margin: 5px;\\r\\n    margin-left: 15px;\\r\\n    justify-content: space-between;\\r\\n}\\r\\n\\r\\n.shopping-cart-title{\\r\\n    display: inline-flex;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9zaG9wcGluZy1jYXJ0L3Nob3BwaW5nLWNhcnQvc2hvcHBpbmctY2FydC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsaUJBQWlCO0lBQ2pCLDhCQUE4QjtBQUNsQzs7QUFFQTtJQUNJLG9CQUFvQjtBQUN4QiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvc2hvcHBpbmctY2FydC9zaG9wcGluZy1jYXJ0L3Nob3BwaW5nLWNhcnQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJkLWZvb3Rlci1jdXN0b217XHJcbiAgICBkaXNwbGF5OmZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjpyb3c7XHJcbiAgICBtYXJnaW46IDVweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAxNXB4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG59XHJcblxyXG4uc2hvcHBpbmctY2FydC10aXRsZXtcclxuICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xyXG59Il19 */\";","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from \"@angular/router\";\r\nimport { ShoppingCartComponent } from './shopping-cart/shopping-cart.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: ShoppingCartComponent\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class ShoppingCarteComponentRoutineModule{}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ShoppingCartComponent } from './shopping-cart/shopping-cart.component';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { ShoppingCarteComponentRoutineModule } from './shopping-cart-routing.module';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [ShoppingCartComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ShoppingCarteComponentRoutineModule\r\n  ]\r\n\r\n})\r\nexport class ShoppingCartModule { }\r\n","export default \"<div class=\\\"shopping-cart-title\\\">\\r\\n  <h1>Panier (Prix total: {{ getShoppingCartTotalPrice() | async }}€)</h1>\\r\\n  <button\\r\\n    *ngIf=\\\"(products$ | async)?.length > 0\\\"\\r\\n    (click)=\\\"clearShoppingCart()\\\"\\r\\n    class=\\\"btn-primary\\\"\\r\\n  >\\r\\n    Vider le panier\\r\\n  </button>\\r\\n</div>\\r\\n<div *ngIf=\\\"(products$ | async)?.length == 0\\\">\\r\\n  <p>Vous n'avez aucun élément dans votre panier</p>\\r\\n</div>\\r\\n\\r\\n<div\\r\\n  class=\\\"card mb-2\\\"\\r\\n  style=\\\"max-width: 540px;\\\"\\r\\n  *ngFor=\\\"let product of products$ | async\\\"\\r\\n>\\r\\n  <div class=\\\"row no-gutters\\\">\\r\\n    <div class=\\\"col-md-4\\\">\\r\\n      <img [src]=\\\"product.imgUrl\\\" class=\\\"card-img\\\" [alt]=\\\"product.title\\\" />\\r\\n    </div>\\r\\n    <div class=\\\"col-md-8\\\">\\r\\n      <div class=\\\"card-body\\\">\\r\\n        <h5 class=\\\"card-title\\\">{{product.title}}</h5>\\r\\n        <p class=\\\"card-text\\\">{{product.description}}</p>\\r\\n        <p class=\\\"card-text\\\">\\r\\n          Quantitée :\\r\\n          <input\\r\\n            type=\\\"number\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            min=\\\"1\\\"\\r\\n            [value]=\\\"product.quantity\\\"\\r\\n            (change)=\\\"onQuantityChanged(product, $event)\\\"\\r\\n          />\\r\\n        </p>\\r\\n        <p class=\\\"card-text\\\">\\r\\n          Prix : {{getTotalPriceFromProduct(product)}}€ ({{product.price}}€ par\\r\\n          article)\\r\\n        </p>\\r\\n      </div>\\r\\n      <div class=\\\"card-footer-custom\\\">\\r\\n        <button class=\\\"btn-primary\\\" (click)=\\\"deleteProduct(product)\\\">\\r\\n          Supprimer du panier\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";","import { Component, OnInit } from \"@angular/core\";\r\nimport { Store } from \"@ngxs/store\";\r\nimport { Observable, of } from \"rxjs\";\r\nimport { filter, map } from \"rxjs/operators\";\r\nimport {\r\n  ClearShoppingCart,\r\n  DelProduct,\r\n  ModifyQuantity\r\n} from \"../../../store/actions/ShoppingCart.action\";\r\nimport { Product } from \"../../../models/Product\";\r\nimport { Article } from \"../../../models/ShoppingCart\";\r\nimport { ShoppingCartState } from \"../../../store/states/ShoppingCart.state\";\r\n\r\n@Component({\r\n  selector: \"app-shopping-cart\",\r\n  templateUrl: \"./shopping-cart.component.html\",\r\n  styleUrls: [\"./shopping-cart.component.css\"]\r\n})\r\nexport class ShoppingCartComponent implements OnInit {\r\n  products$: Observable<Article[]>;\r\n\r\n  constructor(private store: Store) {}\r\n\r\n  ngOnInit(): void {\r\n    this.products$ = this.store.select(ShoppingCartState.GetProducts);\r\n  }\r\n\r\n  getTotalPriceFromProduct(product: Article): number {\r\n    return product.price * product.quantity;\r\n  }\r\n\r\n  getShoppingCartTotalPrice(): Observable<number> {\r\n    return this.products$.pipe(\r\n      map((value: Article[]) =>\r\n        value\r\n          .map((p: Article) => p.quantity * p.price)\r\n          .reduce((acc, value) => acc + value, 0)\r\n      )\r\n    );\r\n  }\r\n\r\n  clearShoppingCart(): void {\r\n    this.store.dispatch(new ClearShoppingCart());\r\n  }\r\n\r\n  deleteProduct(product: Article): void {\r\n    this.store.dispatch(new DelProduct(product));\r\n  }\r\n\r\n  onQuantityChanged(product: Article, newQuantity: Event) {\r\n    this.store.dispatch(\r\n      new ModifyQuantity(\r\n        product,\r\n        Number((newQuantity.target as HTMLInputElement).value)\r\n      )\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}